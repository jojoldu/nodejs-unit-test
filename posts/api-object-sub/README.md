# 좋은 API Response Body 


API 역시 사용자 인터페이스이다.  
개발자는 API 

## 직관적인 데이터 

### camelCase 사용하기

camelCase를 사용하면, 다양한 플랫폼과 언어에서도 일관성을 유지할 수 있습니다.
OpenAPI 스펙에서는 자동으로 코드를 생성할 수 있는 도구를 많이 제공합니다. 이런 도구들은 주로 camelCase를 따르는 언어 (예: JavaScript, Java 등)에 최적화되어 있습니다. 따라서, camelCase를 사용하면 이런 도구들을 효과적으로 활용할 수 있습니다.

- https://the-guild.dev/graphql/codegen
- 
### 표준 포맷 사용하기

UNIX 타임스탬프 등을 날짜 데이터로 사용하면 안된다.  
API의 데이터는 누가 봐도 직관적으로 무슨 데이터인지 이해할 수 있는 형태여야 한다.  

[RFC 3339](https://tools.ietf.org/html/rfc3339#section-5.6) 에 정의된 날짜 및 시간 형식을 사용한다.

- "날짜"의 경우 날짜-연도 "-" 날짜-월 "-" 날짜-일과 일치하는 문자열을 사용합니다(예: 2015-05-28).
- "날짜-시간"의 경우 전체 날짜 "T" 전체 시간과 일치하는 문자열 사용(예: 2015-05-28T14:07:17Z)

```js
// bad

{
    createdAt: 1423314000
}

// good

{
    createdAt: '2015-02-07T13:00:00'
}
```

### 생략 금지

`22.10.31` 혹은 `221031` 와 같이 표현하면 안된다.
`2022-10-31` 와 같이 명확하게 전체 정보를 담아야 한다.  

특히 **자리수가 있는 숫자**의 경우 필요에 따라 `0`으로 앞을 채우는게 낫다.




## 타입이 의미하는 바를 명확하게 사용하기

### Boolean 타입에는 `null` 이 있으면 안된다.

Boolean 은 기본적으로 **참과 거짓 두 값의 열거형**과 다를바 없다.  
의미 있는 `null` 값이 있는 경우라면 Enum 으로 대체하는 것이 좋다.  
예를 들어 `null`, `true`, `false` 에 각각 의미가 있다면 `YES`, `NO`,  `UNKNOWN` 으로 표현하는 것이 더 좋다.

### 제한된 문자열 값은 Enum 으로 표현한다.

Enum 은 제한된 문자열 값의 집합을 의미한다.
`ADMIN`, `MANAGER`, `USER` 와 같이 제한된 문자열 값이 있는 경우 Enum 으로 표현하는 것이 좋다.
단순 문자열로 표현할 경우 무슨 값이든 받을 수 있게 되며, 값을 예상하기 힘들다.  
제한된 값 외에는 받을 수 없음을 표현해야 한다.

### 열거형은 문자열로 표현되어야 한다.

Enum은 기본적으로 ordinal 값을 가지고 있으며, ordinal은 숫자값이다.
ordinal은 Enum의 순서를 의미하며, Enum의 순서가 바뀌면 ordinal 값도 바뀐다.

## 빈값 처리

### null 보다는 Null Object Pattern


- 목록 결과가 없을 경우 `null` 보다는 빈배열 `[]` 을 반환한다.
- 단일 결과가 없을 경우 `null` 보다는 [Null Object](https://en.wikipedia.org/wiki/Null_object_pattern)를 반환한다.

`{}` 와 같은 전용 Null 객체를 사용하여 Null 케이스를 표현하는 것이 더 안전합니다.

### 값이 없는 경우에 대해 명시하기

## 네이밍

### 일관성 유지하기

어디서는 Number이고 어디서는 No이면 안된다.  
API의 필드명은 예측 가능 해야한다.  
그럴려면 일관성을 유지해야한다.

```js
// bad

{
    accountNumber: '0012571125123',
    bankNo: '012'
}

// good
{
    accountNo: '0012571125123',
    bankNo: '012'
}
```

이는 응답 필드 내부에서만 유지해서는 안되며, **요청 필드와 응답 필드 간에도 네이밍에는 일관성**을 유지해야 한다.

### At 접미사를 사용하여 날짜/시간 속성 이름 지정

일시 속성은 매우 유사하거나 심지어 동일한 이름을 갖는 부울 속성과 구별하기 위해 `At` 로 끝나야 한다.

- `created` -> `createdAt`
- `modified` -> `modifiedAt`
- `deleted` -> `deletedAt`

### 배열등 복수형은 복수형 이름으로

복수형은 복수형 이름으로 지정해야 한다.
